@using ERPWebApp.Utilities.Constants
@using Microsoft.AspNetCore.Authorization
@using ERPWebApp.Authorization
@inject IAuthorizationService AuthorizationService
@{
    //kiểm tra quyền tạo đối với nut create cho hiểu thị nut
    var result_edit = await AuthorizationService.AuthorizeAsync(User, Const_FunctionId.AllowedVacation, Operations.Create);
    //kiểm tra quyền tạo đối với nut delete cho hiểu thị nut
    var result_delete = await AuthorizationService.AuthorizeAsync(User, Const_FunctionId.AllowedVacation, Operations.Delete);
    //kiểm tra quyền tạo đối với nut update cho hiểu thị nut
    var result_create = await AuthorizationService.AuthorizeAsync(User, Const_FunctionId.AllowedVacation, Operations.Update);
    //kiểm tra quyền tạo đối với nut delete cho hiểu thị nut
    var result_confirm = await AuthorizationService.AuthorizeAsync(User, Const_FunctionId.AllowedVacation, Operations.Confirm);
}
<div id="modal-add-edit" class="bootbox modal fade modal-darkorange in" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog  modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="formEdittitle">Thêm/Chỉnh sửa</h4>
                <h4 class="modal-title" id="formEditMastertitle">Xem</h4>
            </div>
            <div class="modal-body">
                <div id="horizontal-form">
                    <form class="form-horizontal" role="form" id="frmMaintainance">
                        <div class="form-group row">
                            <label for="" class="col-sm-2 col-form-label">Số phiếu</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="txtId" readonly />
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="dtDateModified" class="col-sm-2 col-form-label">Ngày lập phiếu</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="dtDateCreated" readonly />
                            </div>
                            <label for="dtDateModified" class="col-sm-2 col-form-label">Ngày chỉnh sửa</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="dtDateModified" readonly />
                            </div>
                        </div>

                        <div class="form-group row">
                            <div class="col-sm-4 hidden">
                                <input type="text" class="form-control" id="txtEmployeeKeyId" readonly />
                            </div>
                            <label for="txtCustomer" class="col-sm-2 col-form-label">Tên nhân viên @*<span class="star">*</span>*@</label>
                            <div class="col-sm-4 autocomplete">
                                <input id="txtEmplyeeFullName" class="form-control" data-addressbookid type="text" name="" style="width:100%" autocomplete="off" readonly />
                            </div>
                            <label for="" class="col-sm-2 col-form-label">Loại nghỉ<span class="star">*</span></label>
                            <div class="col-sm-4">
                                <select id="seldetailTimeKeepingType" class="form-control" name="seldetailTimeKeepingType">
                                    <option value="0">Chọn loại nghỉ</option>

                                </select>
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="" class="col-sm-2 col-form-label">Phòng ban</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="txtDepartment" readonly />
                            </div>
                            <label for="" class="col-sm-2 col-form-label">Chức vụ</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="txtPosition" readonly />
                            </div>
                        </div>

                        <div class="form-group row">
                            <div class="col-sm-4 hidden">
                                <input type="text" class="form-control" id="txtPermitDaysId" readonly />
                            </div>
                            <label for="" class="col-sm-2 col-form-label">Số phép năm còn lại</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="txtNODaysRemain" readonly />
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="" class="col-sm-2 col-form-label">Ngày bắt đầu<span class="star">*</span></label>
                            <div class="col-sm-4">
                                <input type="date" class="form-control" id="txtFromdate">
                            </div>
                            <label for="" class="col-sm-2 col-form-label">Ngày kết thúc<span class="star">*</span></label>
                            <div class="col-sm-4">
                                <input type="date" class="form-control" id="txtTodate" />
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="" class="col-sm-2 col-form-label">Số ngày nghỉ phép</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="txtNOdate" readonly />
                            </div>
                            <label for="" class="col-sm-2 col-form-label">Phần trăm tính lương</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="txtPercentSalary" readonly />
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="" class="col-sm-2 col-form-label">Lý do</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="txtReason">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="" class="col-sm-2 col-form-label">Chú thích</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="txtNote">
                            </div>
                        </div>

                        <div class="form-group row">
                            <label for="" class="col-sm-3 col-form-label">Bàn giao công việc lại cho</label>
                            <div class="col-sm-4 autocomplete" style="position: absolute;">
                                <select id="selHandoverTo" placeholder="Chọn nhân viên" class="form-control" name="selHandoverTo"></select>
                            </div>
                        </div>

                        <div class="form-group row">
                            <div class="col-sm-8 checkbox pull-left">
                                <label><input type="checkbox" value="" id="chkCommitBackToWork">Tôi cam kết sẽ bắt đầu lại công việc sau thời gian nghỉ trên</label>
                            </div>
                            <div class="col-sm-4 hidden">
                                <input type="text" class="form-control" id="txtStatusFK" readonly />
                            </div>
                        </div>

                        <div class="form-group row" id="formStatus">
                            <label for="" class="col-sm-2 col-form-label">Trạng thái</label>
                            <div class="col-sm-4">
                                <input type="text" class="form-control" id="txtStatus" readonly />
                            </div>

                        </div>

                        <div class="form-group row">
                            <div class="col-sm-offset-2 col-sm-6" id="formEdit">
                                <button type="button" id="btnSave" class="btn btn-success">Ghi</button>
                                <button type="button" id="btnCancel" data-dismiss="modal" class="btn btn-danger">Hủy</button>
                            </div>
                            <div class="col-sm-6" id="formEditMaster">
                                
                                    <button type="button" id="btnRequest" class="btn btn-primary">Yêu cầu xác nhận</button>
                                                               
                                 @if (result_confirm.Succeeded)
                                    {
                                        <button type="button" id="btnApprove" class="btn btn-success">Xác nhận</button>
                                        <button type="button" id="btnDeny" data-dismiss="modal" class="btn btn-danger">Không xác nhận</button>
                                    }
                                
                                
                                    @*<div class="col-sm-2">
                                        
                                        
                                    </div>*@
                                
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>